---
ms.date: 2017-10-12
author: eslesar;mgreenegit
ms.topic: conceptual
keywords: "DSC prostředí powershell, konfiguraci, instalační program"
title: "Prostředí Windows PowerShell 4.0 požadovaného stavu konfigurace místní Configuration Manager (LCM)"
ms.openlocfilehash: d46862f9ea0f8e3206c596af7232160fc4a97939
ms.sourcegitcommit: 9a5da3f739b1eebb81ede58bd4fc8037bad87224
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/16/2017
---
# <a name="windows-powershell-40-desired-state-configuration-local-configuration-manager-lcm"></a><span data-ttu-id="8928f-103">Prostředí Windows PowerShell 4.0 požadovaného stavu konfigurace místní Configuration Manager (LCM)</span><span class="sxs-lookup"><span data-stu-id="8928f-103">Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager (LCM)</span></span>

><span data-ttu-id="8928f-104">Platí pro: Prostředí Windows PowerShell 4.0</span><span class="sxs-lookup"><span data-stu-id="8928f-104">Applies To: Windows PowerShell 4.0</span></span>

<span data-ttu-id="8928f-105">Správce místní konfigurace je modul požadovaného stavu aplikace Windows PowerShell (DSC).</span><span class="sxs-lookup"><span data-stu-id="8928f-105">Local Configuration Manager is the Windows PowerShell Desired State Configuration (DSC) engine.</span></span>
<span data-ttu-id="8928f-106">Běží na všechny cílové uzly, a je zodpovědná za volání konfigurace prostředky, které jsou součástí konfigurační skript DSC.</span><span class="sxs-lookup"><span data-stu-id="8928f-106">It runs on all target nodes, and it is responsible for calling the configuration resources that are included in a DSC configuration script.</span></span>
<span data-ttu-id="8928f-107">Toto téma obsahuje seznam vlastností správce místní konfigurace a popisuje, jak je možné upravit správce místní konfigurace nastavení na cílový uzel.</span><span class="sxs-lookup"><span data-stu-id="8928f-107">This topic lists the properties of Local Configuration Manager and describes how you can modify the Local Configuration Manager settings on a target node.</span></span>

## <a name="local-configuration-manager-properties"></a><span data-ttu-id="8928f-108">Vlastnosti správce místní konfigurace</span><span class="sxs-lookup"><span data-stu-id="8928f-108">Local Configuration Manager properties</span></span>

<span data-ttu-id="8928f-109">Následuje seznam vlastností správce místní konfigurace, které můžete nastavit nebo načíst.</span><span class="sxs-lookup"><span data-stu-id="8928f-109">The following lists the Local Configuration Manager properties that you can set or retrieve.</span></span>

- <span data-ttu-id="8928f-110">**AllowModuleOverwrite**: Určuje, jestli nové konfigurace stažené ze služby konfigurace se smí přepsat staré na cílovém uzlu.</span><span class="sxs-lookup"><span data-stu-id="8928f-110">**AllowModuleOverwrite**: Controls whether new configurations downloaded from the configuration service are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="8928f-111">Možné hodnoty jsou True a False.</span><span class="sxs-lookup"><span data-stu-id="8928f-111">Possible values are True and False.</span></span>
- <span data-ttu-id="8928f-112">**CertificateID**: kryptografický otisk certifikátu k zabezpečení přihlašovacích údajů předán v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8928f-112">**CertificateID**: The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="8928f-113">Další informace najdete v části [chcete zabezpečit přihlašovací údaje v části Konfigurace požadovaného stavu aplikace Windows PowerShell?](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="8928f-113">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration?](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx).</span></span>
- <span data-ttu-id="8928f-114">**ConfigurationID**: označuje identifikátor GUID, který se použije k získání příslušného konfiguračního souboru ze služby vyžádání obsahu.</span><span class="sxs-lookup"><span data-stu-id="8928f-114">**ConfigurationID**: Indicates a GUID which is used to get a particular configuration file from a pull service.</span></span> <span data-ttu-id="8928f-115">Identifikátor GUID zajistí, aby měli přístup správný konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="8928f-115">The GUID ensures that the correct configuration file is accessed.</span></span>
- <span data-ttu-id="8928f-116">**ConfigurationMode**: Určuje, jak správce místní konfigurace ve skutečnosti použije konfiguraci pro cílové uzly.</span><span class="sxs-lookup"><span data-stu-id="8928f-116">**ConfigurationMode**: Specifies how the Local Configuration Manager actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="8928f-117">Může trvat následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="8928f-117">It can take the following values:</span></span>
  - <span data-ttu-id="8928f-118">**ApplyOnly**: DSC s tuto možnost, bude konfigurace a další nic neprovádí, pokud je zjištěn novou konfiguraci, ať již odesílání novou konfiguraci přímo na cílovém uzlu, nebo pokud se připojujete k vyžádání služby a DSC Při kontrole se službou vyžádání obsahu, zjistí novou konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8928f-118">**ApplyOnly**: With this option, DSC applies the configuration and does nothing further unless a new configuration is detected, either by you sending a new configuration directly to the target node or if you are connecting to a pull service and DSC discovers a new configuration when it checks with the pull service.</span></span> <span data-ttu-id="8928f-119">Pokud cílový uzel konfigurace drifts, nebyla provedena žádná akce.</span><span class="sxs-lookup"><span data-stu-id="8928f-119">If the target node’s configuration drifts, no action is taken.</span></span>
  - <span data-ttu-id="8928f-120">**ApplyAndMonitor**: pomocí této možnosti (což je výchozí nastavení), DSC platí všechny nové konfigurace, které jste se odešle přímo na cílový uzel nebo zjištěná na vyžádání služby.</span><span class="sxs-lookup"><span data-stu-id="8928f-120">**ApplyAndMonitor**: With this option (which is the default), DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="8928f-121">Po tomto datu Pokud konfigurace cílový uzel drifts z konfiguračního souboru, sestavy DSC nesoulad mezi databází v protokolech.</span><span class="sxs-lookup"><span data-stu-id="8928f-121">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="8928f-122">Další informace o protokolování DSC najdete v tématu [pomocí protokoly událostí a diagnostikovat chyby v Konfigurace požadovaného stavu](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="8928f-122">For more about DSC logging, see [Using Event Logs to Diagnose Errors in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span></span>
  - <span data-ttu-id="8928f-123">**ApplyAndAutoCorrect**: pomocí této možnosti DSC platí nové konfigurace, které jste se odešle přímo na cílový uzel nebo zjištěná na vyžádání služby.</span><span class="sxs-lookup"><span data-stu-id="8928f-123">**ApplyAndAutoCorrect**: With this option, DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="8928f-124">Po tomto datu Pokud konfigurace cílový uzel drifts z konfiguračního souboru, DSC sestavy nesoulad mezi databází v protokolech a poté se pokusí úpravou konfigurace cílového uzlu uvést v souladu s konfiguračního souboru.</span><span class="sxs-lookup"><span data-stu-id="8928f-124">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs, and then attempts to adjust the target node configuration to bring in compliance with the configuration file.</span></span>
- <span data-ttu-id="8928f-125">**ConfigurationModeFrequencyMins**: představuje frekvenci (v minutách), s jakou se aplikace DSC běžící na pozadí pokouší implementovat na cílový uzel aktuální konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8928f-125">**ConfigurationModeFrequencyMins**: Represents the frequency (in minutes) at which the background application of DSC attempts to implement the current configuration on the target node.</span></span> <span data-ttu-id="8928f-126">Výchozí hodnota je 15.</span><span class="sxs-lookup"><span data-stu-id="8928f-126">The default value is 15.</span></span> <span data-ttu-id="8928f-127">Tuto hodnotu můžete nastavit ve spojení s RefreshMode.</span><span class="sxs-lookup"><span data-stu-id="8928f-127">This value can be set in conjunction with RefreshMode.</span></span> <span data-ttu-id="8928f-128">Pokud RefreshMode je nastaven na VYŽÁDÁNÍ, cílový uzel kontaktuje službu konfigurace v intervalu nastaven RefreshFrequencyMins a stáhne aktuální konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8928f-128">When RefreshMode is set to PULL, the target node contacts the configuration service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="8928f-129">Bez ohledu na hodnotu RefreshMode v intervalu určeném podle ConfigurationModeFrequencyMins, použije modul konzistence s nejnovější konfigurací, který byl stažen do cílový uzel.</span><span class="sxs-lookup"><span data-stu-id="8928f-129">Regardless of the RefreshMode value, at the interval set by ConfigurationModeFrequencyMins, the consistency engine applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="8928f-130">RefreshFrequencyMins musí být nastavena na celé číslo násobkem ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="8928f-130">RefreshFrequencyMins should be set to an integer multiple of ConfigurationModeFrequencyMins.</span></span>
- <span data-ttu-id="8928f-131">**Přihlašovací údaje**: označuje přihlašovací údaje (stejně jako u Get-Credential) požadovaná pro přístup k vzdálené prostředky, například ke kontaktování služby konfigurace.</span><span class="sxs-lookup"><span data-stu-id="8928f-131">**Credential**: Indicates credentials (as with Get-Credential) required to access remote resources, such as to contact the configuration service.</span></span>
- <span data-ttu-id="8928f-132">**DownloadManagerCustomData**: představuje pole, které obsahuje vlastní data specifická pro správce stahování.</span><span class="sxs-lookup"><span data-stu-id="8928f-132">**DownloadManagerCustomData**: Represents an array that contains custom data specific to the download manager.</span></span>
- <span data-ttu-id="8928f-133">**DownloadManagerName**: Určuje název konfigurace a správce stahování modulu.</span><span class="sxs-lookup"><span data-stu-id="8928f-133">**DownloadManagerName**: Indicates the name of the configuration and module download manager.</span></span>
- <span data-ttu-id="8928f-134">**RebootNodeIfNeeded**: změny konfigurace na cílový uzel může požadovat, aby změny projeví až po restartování.</span><span class="sxs-lookup"><span data-stu-id="8928f-134">**RebootNodeIfNeeded**: Certain configuration changes on a target node might require it to be restarted for the changes to be applied.</span></span> <span data-ttu-id="8928f-135">S hodnotou **True**, tato vlastnost bude uzel se restartuje hned, jak byla konfigurace úplně platí bez další upozornění.</span><span class="sxs-lookup"><span data-stu-id="8928f-135">With the value **True**, this property will restart the node as soon as the configuration has been completely applies, without further warning.</span></span> <span data-ttu-id="8928f-136">Pokud **False** (výchozí hodnota), se dokončí konfigurace, ale uzlu je ručně restartovat, aby změny vstoupily v platnost.</span><span class="sxs-lookup"><span data-stu-id="8928f-136">If **False** (the default value), the configuration will be completed, but the node must be restarted manually for the changes to take effect.</span></span>
- <span data-ttu-id="8928f-137">**RefreshFrequencyMins**: použít při nastavování služby vyžádání obsahu.</span><span class="sxs-lookup"><span data-stu-id="8928f-137">**RefreshFrequencyMins**: Used when you have set up a pull service.</span></span> <span data-ttu-id="8928f-138">Představuje frekvenci (v minutách), s jakou správce místní konfigurace kontaktuje službu vyžádání obsahu stáhnout aktuální konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8928f-138">Represents the frequency (in minutes) at which the Local Configuration Manager contacts a pull service to download the current configuration.</span></span> <span data-ttu-id="8928f-139">Tuto hodnotu můžete nastavit ve spojení s ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="8928f-139">This value can be set in conjunction with ConfigurationModeFrequencyMins.</span></span> <span data-ttu-id="8928f-140">Pokud RefreshMode je nastaven na VYŽÁDÁNÍ, cílový uzel kontaktuje službu vyžádání obsahu v intervalu nastaven RefreshFrequencyMins a stáhne aktuální konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8928f-140">When RefreshMode is set to PULL, the target node contacts the pull service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="8928f-141">V intervalu ve ConfigurationModeFrequencyMins nastavení použije modul konzistence pak nejnovější konfigurace, který byl stažen do cílový uzel.</span><span class="sxs-lookup"><span data-stu-id="8928f-141">At the interval set by ConfigurationModeFrequencyMins, the consistency engine then applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="8928f-142">Pokud RefreshFrequencyMins není nastavený na celé číslo násobkem ConfigurationModeFrequencyMins, systém se zaokrouhlí nahoru.</span><span class="sxs-lookup"><span data-stu-id="8928f-142">If RefreshFrequencyMins is not set to an integer multiple of ConfigurationModeFrequencyMins, the system will round it up.</span></span> <span data-ttu-id="8928f-143">Výchozí hodnota je 30.</span><span class="sxs-lookup"><span data-stu-id="8928f-143">The default value is 30.</span></span>
- <span data-ttu-id="8928f-144">**RefreshMode**: možné hodnoty jsou **Push** (výchozí) a **pro vyžádání obsahu**.</span><span class="sxs-lookup"><span data-stu-id="8928f-144">**RefreshMode**: Possible values are **Push** (the default) and **Pull**.</span></span> <span data-ttu-id="8928f-145">V konfiguraci "push" musíte umístit soubor konfigurace na každý cílový uzel pomocí libovolného klientského počítače.</span><span class="sxs-lookup"><span data-stu-id="8928f-145">In the “push” configuration, you must place a configuration file on each target node, using any client computer.</span></span> <span data-ttu-id="8928f-146">V režimu "vyžádání" musíte nastavit službu přijetí změn pro správce místní konfigurace a obraťte se na přístup ke konfiguračním souborům.</span><span class="sxs-lookup"><span data-stu-id="8928f-146">In the “pull” mode, you must set up a pull service for Local Configuration Manager to contact and access the configuration files.</span></span>

### <a name="example-of-updating-local-configuration-manager-settings"></a><span data-ttu-id="8928f-147">Příklad aktualizuje se nastavení správce místní konfigurace</span><span class="sxs-lookup"><span data-stu-id="8928f-147">Example of updating Local Configuration Manager settings</span></span>

<span data-ttu-id="8928f-148">Správce místní konfigurace nastavení cílový uzel můžete aktualizovat tak, že začleníte **LocalConfigurationManager** blokovat uvnitř bloku uzlu v konfigurační skript, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="8928f-148">You can update the Local Configuration Manager settings of a target node by including a **LocalConfigurationManager** block inside the node block in a configuration script, as shown in the following example.</span></span>

```powershell
Configuration ExampleConfig
{
    Node “Server001”
    {
        LocalConfigurationManager
        {
            ConfigurationID = "646e48cb-3082-4a12-9fd9-f71b9a562d4e"
            ConfigurationModeFrequencyMins = 45
            ConfigurationMode = "ApplyAndAutocorrect"
            RefreshMode = "Pull"
            RefreshFrequencyMins = 90
            DownloadManagerName = "WebDownloadManager"
            DownloadManagerCustomData = (@{ServerUrl="https://$PullService/psdscpullserver.svc"})
            CertificateID = "71AA68562316FE3F73536F1096B85D66289ED60E"
            Credential = $cred
            RebootNodeIfNeeded = $true
            AllowModuleOverwrite = $false
        }
# One or more resource blocks can be added here
    }
}

# The following line invokes the configuration and creates a file called Server001.meta.mof at the specified path
ExampleConfig -OutputPath "c:\users\public\dsc"
```

<span data-ttu-id="8928f-149">Spouštění skriptu v předchozím příkladu generuje soubor MOF, který určuje a ukládá požadovaná nastavení.</span><span class="sxs-lookup"><span data-stu-id="8928f-149">Running the script in the previous example generates a MOF file that specifies and stores the desired settings.</span></span>
<span data-ttu-id="8928f-150">Chcete-li použít nastavení, můžete použít **Set-DscLocalConfigurationManager** rutiny, jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="8928f-150">To apply the settings, you can use the **Set-DscLocalConfigurationManager** cmdlet, as shown in the following example.</span></span>

```powershell
Set-DscLocalConfigurationManager -Path "c:\users\public\dsc"
```

> <span data-ttu-id="8928f-151">**Poznámka:**: pro **cesta** parametr, musíte zadat stejnou cestu, která jste zadali pro **OutputPath** parametr při vyvolání konfigurace v předchozím příkladu.</span><span class="sxs-lookup"><span data-stu-id="8928f-151">**Note**: For the **Path** parameter, you must specify the same path that you specified for the **OutputPath** parameter when you invoked the configuration in the previous example.</span></span>

<span data-ttu-id="8928f-152">Pokud chcete zobrazit aktuální nastavení správce místní konfigurace, můžete použít **Get-DscLocalConfigurationManager** rutiny.</span><span class="sxs-lookup"><span data-stu-id="8928f-152">To see the current Local Configuration Manager settings, you can use the **Get-DscLocalConfigurationManager** cmdlet.</span></span>
<span data-ttu-id="8928f-153">Pokud vyvolání Tato rutina bez parametrů, ve výchozím nastavení se získají správce místní konfigurace nastavení pro uzel, na kterém jste spustili.</span><span class="sxs-lookup"><span data-stu-id="8928f-153">If you invoke this cmdlet with no parameters, by default it will get the Local Configuration Manager settings for the node on which you run it.</span></span>
<span data-ttu-id="8928f-154">Pokud chcete zadat jiný uzel, použijte **CimSession** parametr pomocí této rutiny.</span><span class="sxs-lookup"><span data-stu-id="8928f-154">To specify another node, use the **CimSession** parameter with this cmdlet.</span></span>
