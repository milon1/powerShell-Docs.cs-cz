---
ms.date: 08/23/2017
keywords: rutiny prostředí PowerShell
title: instalace a používání windows powershell web Accessu
ms.openlocfilehash: d60670954d6ab6998e905382383d60ead1129d31
ms.sourcegitcommit: 8b076ebde7ef971d7465bab834a3c2a32471ef6f
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/06/2018
ms.locfileid: "37893752"
---
# <a name="install-and-use-windows-powershell-web-access"></a><span data-ttu-id="e3e3d-103">Instalace a používání Windows PowerShell Web Accessu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-103">Install and Use Windows PowerShell Web Access</span></span>

<span data-ttu-id="e3e3d-104">Aktualizováno: 5 listopad 2013 (upravovat: 23. srpna 2017)</span><span class="sxs-lookup"><span data-stu-id="e3e3d-104">Updated: November 5, 2013 (Edited: August 23, 2017)</span></span>

<span data-ttu-id="e3e3d-105">Platí pro: Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="e3e3d-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

## <a name="introduction"></a><span data-ttu-id="e3e3d-106">Úvod</span><span class="sxs-lookup"><span data-stu-id="e3e3d-106">Introduction</span></span>

<span data-ttu-id="e3e3d-107">Windows PowerShell Web Accessu, poprvé byla představena ve Windows serveru 2012, funguje jako brána Windows Powershellu, poskytuje webové konzoly prostředí Windows PowerShell, která je cílená na vzdálený počítač.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-107">Windows PowerShell Web Access, first introduced in Windows Server 2012, acts as a Windows PowerShell gateway, providing a web-based Windows PowerShell console that is targeted at a remote computer.</span></span> <span data-ttu-id="e3e3d-108">Umožňuje odborníkům na IT spouštět příkazy Windows Powershellu a skripty z konzoly Windows Powershellu ve webovém prohlížeči se žádná prostředí Windows PowerShell, software pro vzdálenou správu nebo instalace modulu plug-in prohlížeče v klientském zařízení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-108">It enables IT Pros to run Windows PowerShell commands and scripts from a Windows PowerShell console in a web browser, with no Windows PowerShell, remote management software, or browser plug-in installation necessary on the client device.</span></span> <span data-ttu-id="e3e3d-109">Vše, co je potřeba spustit webovou konzolu prostředí Windows PowerShell je bránu Windows PowerShell Web Access správně nakonfigurován a prohlížeč v klientském zařízení, která podporuje JavaScript a přijímá soubory cookie.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-109">All that is required to run the web-based Windows PowerShell console is a properly-configured Windows PowerShell Web Access gateway, and a client device browser that supports JavaScript and accepts cookies.</span></span>

<span data-ttu-id="e3e3d-110">Mezi příklady klientských zařízení patří přenosné počítače, nepracovní osobních počítače, vypůjčené počítače, tablety, webové terminály, počítače, na kterých se nepoužívá operační systém Windows, a prohlížeče mobilních telefonů.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-110">Examples of client devices include laptops, non-work personal computers, borrowed computers, tablet computers, web kiosks, computers that are not running a Windows-based operating system, and cell phone browsers.</span></span> <span data-ttu-id="e3e3d-111">Odborníci na IT můžou provádět důležité úkoly správy na vzdálených serverech se systémem Windows ze zařízení, která mají přístup na internet a webový prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-111">IT Pros can perform critical management tasks on remote Windows-based servers from devices that have access to an Internet connection and a web browser.</span></span>

<span data-ttu-id="e3e3d-112">Po úspěšném nastavení a nakonfigurování brány mohou uživatelé konzoly Windows Powershellu pomocí webového prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-112">After successful gateway setup and configuration, users can access a Windows PowerShell console by using a web browser.</span></span> <span data-ttu-id="e3e3d-113">Když uživatelé otevřou zabezpečený web Windows PowerShell Web Accessu, můžou běžet po úspěšném ověření webové konzoly Windows Powershellu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-113">When users open the secured Windows PowerShell Web Access website, they can run a web-based Windows PowerShell console after successful authentication.</span></span>

<span data-ttu-id="e3e3d-114">Windows PowerShell Web Accessu nastavení a konfigurace je třech krocích:</span><span class="sxs-lookup"><span data-stu-id="e3e3d-114">Windows PowerShell Web Access setup and configuration is a three-step process:</span></span>

1. [<span data-ttu-id="e3e3d-115">Instalace Windows PowerShell Web Accessu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-115">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access)
1. [<span data-ttu-id="e3e3d-116">Konfigurace brány</span><span class="sxs-lookup"><span data-stu-id="e3e3d-116">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="e3e3d-117">Konfigurace omezujícího autorizačního pravidla</span><span class="sxs-lookup"><span data-stu-id="e3e3d-117">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

<span data-ttu-id="e3e3d-118">Než nainstalujete a nakonfigurujete Windows PowerShell Web Accessu, doporučujeme, abyste si celou tuto příručku, který obsahuje pokyny k instalaci, zabezpečení a odinstalace Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-118">Before you install and configure Windows PowerShell Web Access, we recommend that you read this entire guide, which includes instructions about how to install, secure, and uninstall Windows PowerShell Web Access.</span></span>
<span data-ttu-id="e3e3d-119">[Pomocí webové konzoly Powershellu Windows](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) téma popisuje, jak se uživatelé přihlašují k webové konzole a věnuje se omezením a rozdílům mezi webovou konzolu prostředí Windows PowerShell a  **PowerShell.exe** konzoly.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-119">The [Use the Web-based Windows PowerShell Console](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) topic describes how users sign in to the web-based console, and covers limitations and differences between the web-based Windows PowerShell console and the **powershell.exe** console.</span></span> <span data-ttu-id="e3e3d-120">Přečtěte si koncoví uživatelé webové konzoly [používání webové konzoly Windows Powershellu](use-the-web-based-windows-powershell-console.md), ale nemusí číst zbývající části této příručky.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-120">End users of the web-based console should read [Use the Web based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md), but do not need to read the rest of this guide.</span></span>

<span data-ttu-id="e3e3d-121">Toto téma neobsahuje podrobné pokyny operace webového serveru služby IIS; v tomto tématu jsou popsány pouze kroky nutné ke konfiguraci brány Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-121">This topic does not provide in-depth IIS Web Server operations guidance; only those steps required to configure the Windows PowerShell Web Access gateway are described in this topic.</span></span> <span data-ttu-id="e3e3d-122">Další informace o konfiguraci a zabezpečení webů ve službě IIS najdete v dokumentaci ke službě IIS v části Viz také.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-122">For more information about configuring and securing websites in IIS, see the IIS documentation resources in the See Also section.</span></span>

<span data-ttu-id="e3e3d-123">Následující diagram ukazuje, jak funguje Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-123">The following diagram shows how Windows PowerShell Web Access works.</span></span>

![Diagram webového přístupu k prostředí Windows PowerShell](images/Windows-PowerShell-Web-Access-diagram.jpg)

## <a name="requirements-for-running-windows-powershell-web-access"></a><span data-ttu-id="e3e3d-125">Požadavky na spuštění Windows PowerShell Web Accessu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-125">Requirements for running Windows PowerShell Web Access</span></span>

<span data-ttu-id="e3e3d-126">Windows PowerShell Web Accessu vyžaduje webový Server (IIS), .NET Framework 4.5 a Windows PowerShell 3.0 nebo Windows PowerShell 4.0 na server, na kterém chcete spustit bránu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-126">Windows PowerShell Web Access requires Web Server (IIS), .NET Framework 4.5, and Windows PowerShell 3.0 or Windows PowerShell 4.0 to be running on the server on which you want to run the gateway.</span></span> <span data-ttu-id="e3e3d-127">Windows PowerShell Web Accessu můžete nainstalovat na serveru, na kterém běží Windows Server 2012 R2 nebo Windows Server 2012 pomocí buď Průvodci přidáním rolí a funkcí ve Správci serveru nebo rutiny prostředí Windows PowerShell pro nasazení pro správce serveru.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-127">You can install Windows PowerShell Web Access on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either the Add Roles and Features Wizard in Server Manager, or Windows PowerShell deployment cmdlets for Server Manager.</span></span> <span data-ttu-id="e3e3d-128">Při instalaci Windows PowerShell Web Accessu pomocí Správce serveru nebo jeho rutin nasazení, požadované role a funkce jsou automaticky přidány jako součást procesu instalace.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-128">When you install Windows PowerShell Web Access by using Server Manager or its deployment cmdlets, required roles and features are automatically added as part of the installation process.</span></span>

<span data-ttu-id="e3e3d-129">Windows PowerShell Web Accessu umožňuje vzdáleným uživatelům přístup k počítačům ve vaší organizaci pomocí prostředí Windows PowerShell ve webovém prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-129">Windows PowerShell Web Access allows remote users to access computers in your organization by using Windows PowerShell in a web browser.</span></span> <span data-ttu-id="e3e3d-130">I když Windows PowerShell Web Accessu je nástroj pro správu pohodlný a účinný, webový přístup představuje bezpečnostní riziko a by měl být nakonfigurovaný jako bezpečné.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-130">Although Windows PowerShell Web Access is a convenient and powerful management tool, the web-based access poses security risks, and should be configured as securely as possible.</span></span> <span data-ttu-id="e3e3d-131">Doporučujeme správcům, kteří konfigurují bránu Windows PowerShell Web Accessu pomocí vrstvy zabezpečení dostupné, pravidla ověřování na základě rutiny součástí Windows PowerShell Web Accessu a zabezpečení vrstvy, které jsou k dispozici v webového serveru) Služba IIS) a aplikací třetích stran.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-131">We recommend that administrators who configure the Windows PowerShell Web Access gateway use available security layers, both the cmdlet-based authorization rules included with Windows PowerShell Web Access, and security layers that are available in Web Server (IIS) and third-party applications.</span></span> <span data-ttu-id="e3e3d-132">Tato dokumentace obsahuje dva příklady nezabezpečeného použití, které doporučujeme pouze pro testovací prostředí, a příklady, které se doporučují pro zabezpečená nasazení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-132">This documentation includes both unsecure examples that are only recommended for test environments, as well as examples that are recommended for secure deployments.</span></span>

## <a name="browser-and-client-device-support"></a><span data-ttu-id="e3e3d-133">Podpora prohlížeče a klientského zařízení</span><span class="sxs-lookup"><span data-stu-id="e3e3d-133">Browser and client device support</span></span>

<span data-ttu-id="e3e3d-134">Windows PowerShell Web Accessu podporuje následujících prohlížečů Internet.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-134">Windows PowerShell Web Access supports the following Internet browsers.</span></span>
<span data-ttu-id="e3e3d-135">Přestože mobilní prohlížeče nejsou oficiálně podporované, mnoho může být možné spouštět webové konzoly Windows Powershellu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-135">Although mobile browsers are not officially supported, many may be able to run the web-based Windows PowerShell console.</span></span> <span data-ttu-id="e3e3d-136">Jiné prohlížeče, které používají soubory cookie a umožňují spouštět JavaScript a weby HTTPS, budou pravděpodobně fungovat, ale nejsou oficiálně testované.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-136">Other browsers that accept cookies, run JavaScript, and run HTTPS websites are expected to work, but are not officially tested.</span></span>

### <a name="supported-desktop-computer-browsers"></a><span data-ttu-id="e3e3d-137">Podporované prohlížeče pro počítače</span><span class="sxs-lookup"><span data-stu-id="e3e3d-137">Supported desktop computer browsers</span></span>

- <span data-ttu-id="e3e3d-138">Aplikaci Windows Internet Explorer pro Microsoft Windows 8.0, 9.0, 10.0 a 11.0</span><span class="sxs-lookup"><span data-stu-id="e3e3d-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0, and 11.0</span></span>
- <span data-ttu-id="e3e3d-139">Mozilla Firefox 10.0.2</span><span class="sxs-lookup"><span data-stu-id="e3e3d-139">Mozilla Firefox 10.0.2</span></span>
- <span data-ttu-id="e3e3d-140">Google Chrome 17.0.963.56m pro Windows</span><span class="sxs-lookup"><span data-stu-id="e3e3d-140">Google Chrome 17.0.963.56m for Windows</span></span>
- <span data-ttu-id="e3e3d-141">Apple Safari 5.1.2 pro Windows</span><span class="sxs-lookup"><span data-stu-id="e3e3d-141">Apple Safari 5.1.2 for Windows</span></span>
- <span data-ttu-id="e3e3d-142">Apple Safari 5.1.2 pro Mac OS</span><span class="sxs-lookup"><span data-stu-id="e3e3d-142">Apple Safari 5.1.2 for Mac OS</span></span>

### <a name="minimally-tested-mobile-devices-or-browsers"></a><span data-ttu-id="e3e3d-143">Mobilní zařízení nebo prohlížeče, které byly jenom minimálně testované</span><span class="sxs-lookup"><span data-stu-id="e3e3d-143">Minimally-tested mobile devices or browsers</span></span>

- <span data-ttu-id="e3e3d-144">Windows Phone 7 a 7.5</span><span class="sxs-lookup"><span data-stu-id="e3e3d-144">Windows Phone 7 and 7.5</span></span>
- <span data-ttu-id="e3e3d-145">Google Android WebKit 3.1 prohlížeče Android 2.2.1 (jádro 2.6)</span><span class="sxs-lookup"><span data-stu-id="e3e3d-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span></span>
- <span data-ttu-id="e3e3d-146">Apple Safari pro operační systém iPhonu – 5.0.1</span><span class="sxs-lookup"><span data-stu-id="e3e3d-146">Apple Safari for iPhone operating system 5.0.1</span></span>
- <span data-ttu-id="e3e3d-147">Apple Safari pro operační systém Ipadu 2 – 5.0.1</span><span class="sxs-lookup"><span data-stu-id="e3e3d-147">Apple Safari for iPad 2 operating system 5.0.1</span></span>

### <a name="browser-requirements"></a><span data-ttu-id="e3e3d-148">Požadavky na prohlížeč</span><span class="sxs-lookup"><span data-stu-id="e3e3d-148">Browser requirements</span></span>

<span data-ttu-id="e3e3d-149">Použití prostředí Windows PowerShell Web Accessu webové konzoly, postupujte takto prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-149">To use the Windows PowerShell Web Access web-based console, browsers must do the following.</span></span>

- <span data-ttu-id="e3e3d-150">Povolit soubory cookie z webu brány Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-150">Allow cookies from the Windows PowerShell Web Access gateway website.</span></span>
- <span data-ttu-id="e3e3d-151">Je nutné, aby umožňovaly otevírání a čtení stránek HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-151">Be able to open and read HTTPS pages.</span></span>
- <span data-ttu-id="e3e3d-152">Je nutné, aby otevíraly a spouštěly weby, které používají JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-152">Open and run websites that use JavaScript.</span></span>

## <a name="recommended-quick-deployment"></a><span data-ttu-id="e3e3d-153">Doporučujeme rychlé nasazení</span><span class="sxs-lookup"><span data-stu-id="e3e3d-153">Recommended quick deployment</span></span>

<span data-ttu-id="e3e3d-154">Brána Windows PowerShell Web Accessu můžete nainstalovat na serveru, na kterém běží Windows Server 2012 R2 nebo Windows Server 2012 pomocí buď rutin Windows Powershellu nebo pomocí Přidat role a funkce průvodce, která je otevřena z v rámci správce serveru.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-154">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either Windows PowerShell cmdlets, or by using the Add Roles and Features Wizard that is opened from within Server Manager.</span></span> <span data-ttu-id="e3e3d-155">Pro rychlou instalaci a konfiguraci použijte rutiny prostředí Windows PowerShell, jak je popsáno v této části.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-155">For quick installation and configuration, use Windows PowerShell cmdlets, as described in this section.</span></span>

1. [<span data-ttu-id="e3e3d-156">Instalace Windows PowerShell Web Accessu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-156">Install Windows PowerShell Web Access</span></span>](#install-Windows-powershell-web-access)
1. [<span data-ttu-id="e3e3d-157">Konfigurace brány</span><span class="sxs-lookup"><span data-stu-id="e3e3d-157">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="e3e3d-158">Konfigurace omezujícího autorizačního pravidla</span><span class="sxs-lookup"><span data-stu-id="e3e3d-158">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

### <a name="install-windows-powershell-web-access-using-powershell-cmdlets"></a><span data-ttu-id="e3e3d-159">Instalace Windows PowerShell Web Accessu pomocí rutin prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="e3e3d-159">Install Windows PowerShell Web Access using PowerShell cmdlets</span></span>

#### <a name="to-install-windows-powershell-web-access-by-using-windows-powershell-cmdlets"></a><span data-ttu-id="e3e3d-160">Postup instalace Windows PowerShell Web Accessu pomocí rutin Windows PowerShellu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-160">To install Windows PowerShell Web Access by using Windows PowerShell cmdlets</span></span>

1. <span data-ttu-id="e3e3d-161">Proveďte jednu z následujících akcí otevřete relaci Windows Powershellu se zvýšenými uživatelskými právy.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-161">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>
   - <span data-ttu-id="e3e3d-162">Na ploše Windows klikněte pravým tlačítkem na **prostředí Windows PowerShell** na hlavním panelu a pak klikněte na tlačítko **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-162">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="e3e3d-163">V Windows **Start** obrazovce, klikněte pravým tlačítkem na **prostředí Windows PowerShell**a potom klikněte na tlačítko **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-163">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

   > <span data-ttu-id="e3e3d-164">**![Poznámka:](images/note.jpeg) Poznámka** v prostředí Windows PowerShell 3.0 a 4.0, je nutné je importovat modul rutin Správce serveru do relace prostředí Windows PowerShell před spuštěním rutin, které jsou součástí daného modulu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-164">**![Note](images/note.jpeg) Note** In Windows PowerShell 3.0 and 4.0, there is no need to import the Server Manager cmdlet module into the Windows PowerShell session before running cmdlets that are part of the module.</span></span> <span data-ttu-id="e3e3d-165">Modul je automaticky importován při prvním spuštění rutiny, která je součástí daného modulu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-165">A module is automatically imported the first time you run   a cmdlet that is part of the module.</span></span> <span data-ttu-id="e3e3d-166">Rutiny prostředí Windows PowerShell nejsou malá a velká písmena.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-166">Also, Windows PowerShell cmdlets are not case-sensitive.</span></span>

1. <span data-ttu-id="e3e3d-167">Zadejte následující příkaz a stiskněte klávesu **Enter**, kde *název_počítače* představuje vzdálený počítač, na kterém chcete nainstalovat Windows PowerShell Web Accessu, pokud je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-167">Type the following, and then press **Enter**, where *computer_name* represents a remote computer on which you want to install Windows PowerShell Web Access, if applicable.</span></span> <span data-ttu-id="e3e3d-168">Parametr `-Restart` automaticky restartuje cílové servery, pokud je to potřeba.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-168">The `-Restart` parameter automatically restarts destination servers if required.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -ComputerName <computer_name> -IncludeManagementTools -Restart`

   > <span data-ttu-id="e3e3d-169">**![Poznámka:](images/note.jpeg) Poznámka**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-169">**![Note](images/note.jpeg) Note**</span></span>
   >
   > <span data-ttu-id="e3e3d-170">Instalace Windows PowerShell Web Accessu pomocí rutin prostředí Windows PowerShell nepřidá nástroje pro správu webového serveru (IIS) ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-170">Installing Windows PowerShell Web Access by using Windows PowerShell cmdlets does not add Web Server (IIS) management tools by default.</span></span> <span data-ttu-id="e3e3d-171">Pokud chcete nainstalovat nástroje pro správu na stejném serveru jako brána Windows PowerShell Web Accessu, přidejte `-IncludeManagementTools` parametr k instalačnímu příkazu (jak je uvedeno v tomto kroku).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-171">If you want to install the management tools on the same server as the Windows PowerShell Web Access gateway, add the `-IncludeManagementTools` parameter to the installation command (as provided in this step).</span></span> <span data-ttu-id="e3e3d-172">Pokud spravujete web Windows PowerShell Web Accessu ze vzdáleného počítače, nainstalujte modul snap-in Správce služby IIS nainstalováním [vzdáleného serveru pro správu Toolsfor Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) nebo [vzdálenou správu serveru Nástroje pro systém Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) na počítači, ze kterého chcete ke správě brány.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-172">If you are managing the Windows PowerShell Web Access website from a remote computer, install the IIS Manager snap-in by installing [Remote Server Administration Toolsfor Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) or [Remote Server Administration Tools for Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) on the computer from which you want to manage the gateway.</span></span>

   <span data-ttu-id="e3e3d-173">Pokud chcete nainstalovat role a funkce na offline virtuálním pevném disku, musíte přidat parametr `-ComputerName` i parametr `-VHD`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-173">To install roles and features on an offline VHD, you must add both the `-ComputerName` parameter and the `-VHD` parameter.</span></span> <span data-ttu-id="e3e3d-174">Parametr `-ComputerName` obsahuje název serveru, ke kterému se má připojit virtuální pevný disk. Parametr `-VHD` pak obsahuje cestu k souboru VHD na určeném serveru.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-174">The `-ComputerName` parameter contains the name of the server on which to mount the VHD, and the `-VHD` parameter contains the path to the VHD file on the specified server.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -VHD <path> -ComputerName <computer_name> -IncludeManagementTools -Restart`

1. <span data-ttu-id="e3e3d-175">Po dokončení instalace ověřte, zda Windows PowerShell Web Accessu byl nainstalován na cílových serverech spuštěním `Get-WindowsFeature` rutiny na cílovém serveru, v konzole Windows Powershellu otevřené se zvýšenými uživatelskými právy.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-175">When installation is complete, verify that Windows PowerShell Web Access was installed on destination servers by running the `Get-WindowsFeature` cmdlet on a destination server, in a Windows PowerShell console that has been opened with elevated user rights.</span></span> <span data-ttu-id="e3e3d-176">Můžete také ověřit, že Windows PowerShell Web Accessu byl nainstalován do konzoly Správce serveru tak, že vyberete cílový server na **všechny servery** stránky a pak zobrazí **rolí a funkcí** dlaždice pro vybraný server.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-176">You can also verify that Windows PowerShell Web Access was installed in the Server Manager console, by selecting a destination server on the **All Servers** page, and then viewing the **Roles and Features** tile for the selected server.</span></span> <span data-ttu-id="e3e3d-177">Můžete také zobrazit soubor readme pro Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-177">You can also view the readme file for Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="e3e3d-178">Po instalaci Windows PowerShell Web Accessu, zobrazí se výzva si přečetli soubor readme, který obsahuje pokyny k instalaci základní, se vyžaduje pro bránu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-178">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="e3e3d-179">Tyto pokyny k instalaci jsou také v následující části [nakonfigurovat bránu, která](#configure-the-gateway).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-179">These setup instructions are also in the following section, [Configure the Gateway](#configure-the-gateway).</span></span> <span data-ttu-id="e3e3d-180">Cesta k souboru readme je `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-180">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="e3e3d-181">Konfigurace brány</span><span class="sxs-lookup"><span data-stu-id="e3e3d-181">Configure the Gateway</span></span>

<span data-ttu-id="e3e3d-182">**Rutiny Install-PswaWebApplication** rutina je rychlý způsob, jak získat Windows PowerShell Web Accessu nakonfigurované.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-182">The **Install-PswaWebApplication** cmdlet is a quick way to get Windows PowerShell Web Access configured.</span></span> <span data-ttu-id="e3e3d-183">I když můžete do rutiny `Install-PswaWebApplication` přidat parametr `UseTestCertificate` k instalaci certifikátu SSL podepsaného držitelem pro testovací účely, není to bezpečné. Pro bezpečné produkční prostředí vždy používejte platný certifikát SSL, který podepsala certifikační autorita.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-183">Although you can add the `UseTestCertificate` parameter to the `Install-PswaWebApplication` cmdlet to install a self-signed SSL certificate for test purposes, this is not secure; for a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span>
<span data-ttu-id="e3e3d-184">Správci mají možnost testovací certifikát nahradit podobným certifikátem, který sami vyberou, pomocí konzoly Správce služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-184">Administrators can replace the test certificate with a signed certificate of their choice by using the IIS Manager console.</span></span>

<span data-ttu-id="e3e3d-185">Můžete použít Windows PowerShell Web Accessu konfiguraci webové aplikace tak, že spustíte `Install-PswaWebApplication` rutiny nebo uděláte kroky konfigurace založeným na GUI ve Správci služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-185">You can complete Windows PowerShell Web Access web application configuration either by running the `Install-PswaWebApplication` cmdlet or by performing GUI-based configuration steps in IIS Manager.</span></span> <span data-ttu-id="e3e3d-186">Ve výchozím nastavení rutina nainstaluje webovou aplikaci **pswa** (a její fond aplikací, **pswa_pool**) v **výchozí webový server** kontejneru, jak je znázorněno v Správce služby IIS; Pokud Chcete, můžete dát pokyn rutiny změně kontejneru výchozího webu webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-186">By default, the cmdlet installs the web application, **pswa** (and an application pool for it, **pswa_pool**), in the **Default Web Site** container, as shown in IIS Manager; if desired, you can instruct the cmdlet to change the default site container of the web application.</span></span> <span data-ttu-id="e3e3d-187">Správce služby IIS nabízí možnosti konfigurace, které jsou k dispozici pro webové aplikace, jako je například změna číslo portu nebo certifikátu vrstvy SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-187">IIS Manager offers configuration options that are available for web applications, such as changing the port number or the Secure Sockets Layer (SSL) certificate.</span></span>

> <span data-ttu-id="e3e3d-188">**![Poznámka k zabezpečení](images/securitynote.jpeg) Poznámka k zabezpečení**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-188">**![Security Note](images/securitynote.jpeg) Security Note**</span></span>
>
> <span data-ttu-id="e3e3d-189">Důrazně doporučujeme, aby správci bránu nakonfigurovali na používání platného certifikátu podepsaného certifikační autoritou.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-189">We strongly recommend that administrators configure the gateway to use a valid certificate that has been signed by a CA.</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-test-certificate-by-using-install-pswawebapplication"></a><span data-ttu-id="e3e3d-190">Nakonfigurování brány Windows PowerShell Web Accessu s testovacím certifikátem pomocí rutiny Install-PswaWebApplication</span><span class="sxs-lookup"><span data-stu-id="e3e3d-190">To configure the Windows PowerShell Web Access gateway with a test certificate by using Install-PswaWebApplication</span></span>

1. <span data-ttu-id="e3e3d-191">Proveďte jednu z následujících akcí otevřete relaci Windows Powershellu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-191">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="e3e3d-192">Na ploše Windows klikněte pravým tlačítkem na **prostředí Windows PowerShell** na hlavním panelu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-192">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>

   - <span data-ttu-id="e3e3d-193">V Windows **Start** obrazovce, klikněte na tlačítko **prostředí Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-193">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="e3e3d-194">Zadejte následující příkaz a stiskněte klávesu **Enter**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-194">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication -UseTestCertificate`

   > <span data-ttu-id="e3e3d-195">**![Poznámka k zabezpečení](images/securitynote.jpeg) Poznámka k zabezpečení**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-195">**![Security Note](images/securitynote.jpeg) Security Note**</span></span>
   >
   > <span data-ttu-id="e3e3d-196">Parametr `UseTestCertificate` by se měl používat jenom v privátním testovacím prostředí.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-196">The `UseTestCertificate` parameter should only be used in a private test environment.</span></span> <span data-ttu-id="e3e3d-197">Pro zabezpečené produkční prostředí doporučujeme použít platný certifikát podepsaný certifikační autoritou.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-197">For a secure production environment, we recommend using a valid certificate that has been signed by a CA.</span></span>

   <span data-ttu-id="e3e3d-198">Spuštěním rutiny se nainstaluje Windows PowerShell Web Accessu webové aplikace v kontejneru výchozí web služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-198">Running the cmdlet installs the Windows PowerShell Web Access web application within the IIS Default Web Site container.</span></span> <span data-ttu-id="e3e3d-199">Rutina vytvoří infrastrukturu požadovanou pro spuštění Windows PowerShell Web Accessu na výchozím webu, `https://<server_name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-199">The cmdlet creates the infrastructure required to run Windows PowerShell Web Access on the default website, `https://<server_name>/pswa`.</span></span> <span data-ttu-id="e3e3d-200">Pokud chcete webovou aplikaci nainstalovat na jiný web, zadejte jeho název přidáním parametru `WebSiteName`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-200">To install the web application in a different website, provide the website name by adding the `WebSiteName` parameter.</span></span> <span data-ttu-id="e3e3d-201">Pokud chcete změnit název webové aplikace (výchozí je `pswa`), přidejte parametr `WebApplicationName`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-201">To change the name of the web application (the default is `pswa`), add the `WebApplicationName` parameter.</span></span>

   <span data-ttu-id="e3e3d-202">Spuštěním rutiny se konfiguruje následující nastavení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-202">The following settings are configured by running the cmdlet.</span></span> <span data-ttu-id="e3e3d-203">Pokud chcete, můžete je ručně změnit v konzole Správce služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-203">You can change these manually in the IIS Manager console, if desired.</span></span>

   - <span data-ttu-id="e3e3d-204">Cesta: / pswa</span><span class="sxs-lookup"><span data-stu-id="e3e3d-204">Path: /pswa</span></span>
   - <span data-ttu-id="e3e3d-205">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="e3e3d-205">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="e3e3d-206">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="e3e3d-206">EnabledProtocols: http</span></span>
   - <span data-ttu-id="e3e3d-207">PhysicalPath: `%*windir*%/Web/PowerShellWebAccess/wwwroot`</span><span class="sxs-lookup"><span data-stu-id="e3e3d-207">PhysicalPath: `%*windir*%/Web/PowerShellWebAccess/wwwroot`</span></span>

     <span data-ttu-id="e3e3d-208">**Příklad**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span><span class="sxs-lookup"><span data-stu-id="e3e3d-208">**Example**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span></span>

     <span data-ttu-id="e3e3d-209">V tomto příkladu je výsledný web pro Windows PowerShell Web Accessu `https://<server_name>/myWebApp`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-209">In this example, the resulting website for Windows PowerShell Web Access is `https://<server_name>/myWebApp`.</span></span>

   > <span data-ttu-id="e3e3d-210">**![Poznámka:](images/note.jpeg) Poznámka**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-210">**![Note](images/note.jpeg) Note**</span></span>
   >
   > <span data-ttu-id="e3e3d-211">Není možné se přihlásit, dokud uživatelům nebude udělen přístup na web přidáním autorizačních pravidel.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-211">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="e3e3d-212">Další informace najdete v tématu [konfigurace omezujícího autorizačního pravidla](#configure-a-restrictive-authorization-rule) a [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-212">For more information, see [configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule) and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-genuine-certificate-by-using-install-pswawebapplication-and-iis-manager"></a><span data-ttu-id="e3e3d-213">Nakonfigurování brány Windows PowerShell Web Access s pravým certifikátem pomocí rutiny Install-PswaWebApplication a Správce služby IIS</span><span class="sxs-lookup"><span data-stu-id="e3e3d-213">To configure the Windows PowerShell Web Access gateway with a genuine certificate by using Install-PswaWebApplication and IIS Manager</span></span>

1. <span data-ttu-id="e3e3d-214">Proveďte jednu z následujících akcí otevřete relaci Windows Powershellu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-214">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="e3e3d-215">Na ploše Windows klikněte pravým tlačítkem na **prostředí Windows PowerShell** na hlavním panelu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-215">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>

   - <span data-ttu-id="e3e3d-216">V Windows **Start** obrazovce, klikněte na tlačítko **prostředí Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-216">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="e3e3d-217">Zadejte následující příkaz a stiskněte klávesu **Enter**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-217">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication`

   <span data-ttu-id="e3e3d-218">Spuštěním rutiny se konfiguruje následující nastavení brány.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-218">The following gateway settings are configured by running the cmdlet.</span></span>
   <span data-ttu-id="e3e3d-219">Pokud chcete, můžete je ručně změnit v konzole Správce služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-219">You can change these manually in the IIS Manager console, if desired.</span></span>
   <span data-ttu-id="e3e3d-220">Můžete také zadat hodnoty parametrů `WebsiteName` a `WebApplicationName` rutiny `Install-PswaWebApplication`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-220">You can also specify values for the `WebsiteName` and `WebApplicationName` parameters of the `Install-PswaWebApplication` cmdlet.</span></span>

   - <span data-ttu-id="e3e3d-221">Cesta: / pswa</span><span class="sxs-lookup"><span data-stu-id="e3e3d-221">Path: /pswa</span></span>

   - <span data-ttu-id="e3e3d-222">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="e3e3d-222">ApplicationPool: pswa_pool</span></span>

   - <span data-ttu-id="e3e3d-223">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="e3e3d-223">EnabledProtocols: http</span></span>

   - <span data-ttu-id="e3e3d-224">PhysicalPath: `%*windir*%/Web/PowerShellWebAccess/wwwroot`</span><span class="sxs-lookup"><span data-stu-id="e3e3d-224">PhysicalPath: `%*windir*%/Web/PowerShellWebAccess/wwwroot`</span></span>

3. <span data-ttu-id="e3e3d-225">Otevřete konzolu Správce služby IIS některým z následujících postupů.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-225">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="e3e3d-226">Na ploše Windows spusťte Správce serveru klikněte na **správce serveru** na hlavním panelu Windows.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-226">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="e3e3d-227">Na **nástroje** nabídky ve Správci serveru klikněte na tlačítko **Správce Internetové informační služby (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-227">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>

   - <span data-ttu-id="e3e3d-228">V Windows **Start** obrazovce, klikněte na tlačítko **správce serveru**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-228">On the Windows **Start** screen, click **Server Manager**.</span></span>

4. <span data-ttu-id="e3e3d-229">V podokně stromu Správce služby IIS rozbalte uzel pro server, na kterém je nainstalovaný Windows PowerShell Web Accessu do **lokality** složka je viditelné.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-229">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="e3e3d-230">Rozbalte **lokality** složky.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-230">Expand the **Sites** folder.</span></span>

5. <span data-ttu-id="e3e3d-231">Vyberte web, ve kterém jste nainstalovali webovou aplikaci Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-231">Select the website in which you have installed the Windows PowerShell Web Access web application.</span></span> <span data-ttu-id="e3e3d-232">V **akce** podokně klikněte na tlačítko **vazby**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-232">In the **Actions** pane, click **Bindings**.</span></span>

6. <span data-ttu-id="e3e3d-233">V **vazbu webu** dialogové okno, klikněte na tlačítko **přidat**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-233">In the **Site Binding** dialog box, click **Add**.</span></span>

7. <span data-ttu-id="e3e3d-234">V **přidat vazbu webu** v dialogu **typ** pole, vyberte **https**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-234">In the **Add Site Binding** dialog box, in the **Type** field, select **https**.</span></span>

8. <span data-ttu-id="e3e3d-235">V **certifikát SSL** vyberte v rozevírací nabídce podepsaný certifikát.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-235">In the **SSL certificate** field, select your signed certificate from the drop-down menu.</span></span> <span data-ttu-id="e3e3d-236">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-236">Click **OK**.</span></span> <span data-ttu-id="e3e3d-237">Zobrazit [nakonfigurovat certifikát SSL ve Správci služby IIS](#to-configure-an-ssl-certificate-in-iis-Manager) v tomto tématu pro další informace o tom, jak získat certifikát.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-237">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-Manager) in this topic for more information about how to obtain a certificate.</span></span>

   <span data-ttu-id="e3e3d-238">Windows PowerShell Web Accessu webové aplikace je nyní nakonfigurováno pro použití podepsaného certifikátu SSL.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-238">The Windows PowerShell Web Access web application is now configured to use your signed SSL certificate.</span></span>

   <span data-ttu-id="e3e3d-239">Dostanete tak, že otevřete Windows PowerShell Web Accessu **https://\<název_serveru\>/pswa** v okně prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-239">You can access Windows PowerShell Web Access by opening **https://\<server_name\>/pswa** in a browser window.</span></span>

   > <span data-ttu-id="e3e3d-240">**![Poznámka:](images/note.jpeg) Poznámka**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-240">**![Note](images/note.jpeg) Note**</span></span>
   >
   > <span data-ttu-id="e3e3d-241">Není možné se přihlásit, dokud uživatelům nebude udělen přístup na web přidáním autorizačních pravidel.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-241">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span>
   > <span data-ttu-id="e3e3d-242">Další informace najdete v tématu [konfigurace omezujícího autorizačního pravidla](#configure-a-restrictive-authorization-rule), v tomto tématu a [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-242">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configure-a-restrictive-authorization-rule"></a><span data-ttu-id="e3e3d-243">Konfigurace omezujícího autorizačního pravidla</span><span class="sxs-lookup"><span data-stu-id="e3e3d-243">Configure a restrictive authorization rule</span></span>

<span data-ttu-id="e3e3d-244">Po nainstalování Windows PowerShell Web Accessu a je brána nakonfigurovaná, uživatelé mohou otevřít přihlašovací stránku v prohlížeči, ale nemůže přihlásit do správce Windows PowerShell Web Accessu explicitně neudělí přístup.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-244">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="e3e3d-245">Řízení přístupu na Windows PowerShell Web Accessu se spravuje pomocí sady rutin Windows Powershellu jsou popsané v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-245">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="e3e3d-246">Neexistuje žádné srovnatelné grafické uživatelské rozhraní pro přidávání nebo správu autorizačních pravidel.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-246">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="e3e3d-247">Podrobné informace o rutinách Windows PowerShell Web Accessu, naleznete v tématu referenční témata rutiny [rutiny Windows Powershellu webového přístupu](cmdlets/web-access-cmdlets.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-247">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](cmdlets/web-access-cmdlets.md).</span></span>

<span data-ttu-id="e3e3d-248">Podrobnější informace o Windows PowerShell Web Accessu autorizačních pravidel a zabezpečení, najdete v části [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-248">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="e3e3d-249">Přidání omezujícího autorizačního pravidla</span><span class="sxs-lookup"><span data-stu-id="e3e3d-249">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="e3e3d-250">Proveďte jednu z následujících akcí otevřete relaci Windows Powershellu se zvýšenými uživatelskými právy.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-250">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="e3e3d-251">Na ploše Windows klikněte pravým tlačítkem na **prostředí Windows PowerShell** na hlavním panelu a pak klikněte na tlačítko **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-251">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>

   - <span data-ttu-id="e3e3d-252">V Windows **Start** obrazovce, klikněte pravým tlačítkem na **prostředí Windows PowerShell**a potom klikněte na tlačítko **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-252">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="e3e3d-253">Volitelný krok pro omezení přístupu uživatelů s použitím konfigurací relace: Ověřte, že konfigurace relace, které chcete použít v pravidlech již existují.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-253">Optional step for restricting user access by using session configurations: Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="e3e3d-254">V případě, že jste ještě nevytvořili, postupujte podle pokynů pro vytvoření konfigurací relace v [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-254">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="e3e3d-255">Zadejte následující příkaz a stiskněte klávesu **Enter**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-255">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="e3e3d-256">Toto autorizační pravidlo umožňuje konkrétní přístup uživatele k jednomu počítači v síti, ke kterému mají obvykle přístup, včetně přístupu ke konfiguraci konkrétní relace, které působí na typické skriptování uživatele a je třeba rutina.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-256">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user's typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="e3e3d-257">V následujícím příkladu se uživateli se jménem `JSmith` v doméně `Contoso` udělí přístup ke správě počítače `Contoso_214` a použití konfigurace relace s názvem `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-257">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName Contoso\JSmith -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

4. <span data-ttu-id="e3e3d-258">Ověřte, zda byl vytvořen pravidla buď spuštěním `Get-PswaAuthorizationRule` rutiny, nebo `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span><span class="sxs-lookup"><span data-stu-id="e3e3d-258">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span></span>

5. <span data-ttu-id="e3e3d-259">Například `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-259">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

<span data-ttu-id="e3e3d-260">Po nakonfigurování autorizačního pravidla se můžou Autorizovaní uživatelé přihlásit k webové konzole a začít používat Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-260">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="custom-deployment"></a><span data-ttu-id="e3e3d-261">Vlastní nasazení</span><span class="sxs-lookup"><span data-stu-id="e3e3d-261">Custom deployment</span></span>

<span data-ttu-id="e3e3d-262">Brána Windows PowerShell Web Accessu můžete nainstalovat na serveru, na kterém běží Windows Server 2012 R2 nebo Windows Server 2012 pomocí funkce Průvodce přidáním rolí a ve Správci serveru.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-262">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using the Add Roles and Features Wizard in Server Manager.</span></span> <span data-ttu-id="e3e3d-263">Po dokončení instalace Windows PowerShell Web Access můžete přizpůsobit konfiguraci brány ve Správci služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-263">After Windows PowerShell Web Access is installed, you can customize the configuration of the gateway in IIS Manager.</span></span>

### <a name="install-windows-powershell-web-access-using-the-add-roles-and-features-wizard"></a><span data-ttu-id="e3e3d-264">Instalace Windows PowerShell Web Accessu pomocí funkce Průvodce přidáním rolí a</span><span class="sxs-lookup"><span data-stu-id="e3e3d-264">Install Windows PowerShell Web Access using the Add Roles and Features Wizard</span></span>

1. <span data-ttu-id="e3e3d-265">Pokud správce serveru je už otevřená, přejděte k dalšímu kroku.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-265">If Server Manager is already open, go on to the next step.</span></span> <span data-ttu-id="e3e3d-266">Správce serveru ještě není otevřený, otevřete ho jedním z následujících akcí.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-266">If Server Manager is not already open, open it by doing one of the following.</span></span>

   - <span data-ttu-id="e3e3d-267">Na ploše Windows spusťte Správce serveru klikněte na **správce serveru** na hlavním panelu Windows.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-267">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span>

   - <span data-ttu-id="e3e3d-268">V Windows **Start** obrazovce, klikněte na tlačítko **správce serveru**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-268">On the Windows **Start** screen, click **Server Manager**.</span></span>

2. <span data-ttu-id="e3e3d-269">Na **spravovat** nabídky, klikněte na tlačítko **přidat role a funkce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-269">On the **Manage** menu, click **Add Roles and Features**.</span></span>

3. <span data-ttu-id="e3e3d-270">Na **vybrat typ instalace** stránce **instalace na základě rolí nebo na základě funkcí**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-270">On the **Select installation type** page, select **Role-based or feature-based installation**.</span></span> <span data-ttu-id="e3e3d-271">Klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-271">Click **Next**.</span></span>

4. <span data-ttu-id="e3e3d-272">Na **vybrat cílový server** stránky, vyberte server z fondu serverů nebo offline virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-272">On the **Select destination server** page, select a server from the server pool, or select an offline VHD.</span></span> <span data-ttu-id="e3e3d-273">Pokud chcete jako cílový server zvolit offline virtuální pevný disk, vyberte nejdřív server, ke kterému chcete virtuální pevný disk připojit, a pak vyberte příslušný soubor VHD.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-273">To select an offline VHD as your destination server, first select the server on which to mount the VHD, and then select the VHD file.</span></span> <span data-ttu-id="e3e3d-274">Informace o tom, jak přidat servery do fondu serverů najdete v nápovědě k nástroji Server Manager.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-274">For information about how to add servers to your server pool, see the Server Manager Help.</span></span> <span data-ttu-id="e3e3d-275">Po výběru cílového serveru, klikněte na tlačítko **Další**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-275">After you have selected the destination server, click **Next**.</span></span>

5. <span data-ttu-id="e3e3d-276">Na **zvolte funkce, které** stránku průvodce, rozbalte **prostředí Windows PowerShell**a pak vyberte **Windows PowerShell Web Accessu**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-276">On the **Select features** page of the wizard, expand **Windows PowerShell**, and then select **Windows PowerShell Web Access**.</span></span>

6. <span data-ttu-id="e3e3d-277">Zobrazí se výzva k přidání požadovaných funkcí, jako je rozhraní .NET Framework 4.5 a služby role Webový Server (IIS).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-277">Note that you are prompted to add required features, such as .NET Framework 4.5, and role services of Web Server (IIS).</span></span> <span data-ttu-id="e3e3d-278">Přidejte požadované funkce a pokračujte.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-278">Add required features and continue.</span></span>

   > <span data-ttu-id="e3e3d-279">**![Poznámka:](images/note.jpeg) Poznámka**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-279">**![Note](images/note.jpeg) Note**</span></span>
   >
   > <span data-ttu-id="e3e3d-280">Instalace Windows PowerShell Web Accessu pomocí funkce Průvodce přidáním rolí a nainstaluje také webový Server (IIS), včetně modulu snap-in Správce služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-280">Installing Windows PowerShell Web Access by using the Add Roles and Features Wizard also installs Web Server (IIS), including the IIS Manager snap-in.</span></span> <span data-ttu-id="e3e3d-281">Modul snap-in a jiné nástroje pro správu služby IIS instalují ve výchozím nastavení, pokud použijete Průvodce přidání rolí a funkcí.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-281">The snap-in and other IIS management tools are installed by default if you use Add Roles and Features Wizard.</span></span> <span data-ttu-id="e3e3d-282">Pokud instalujete Windows PowerShell Web Accessu pomocí rutin prostředí Windows PowerShell, jak je popsáno v následujícím postupu, nástroje pro správu nepřidají ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-282">If you install Windows PowerShell Web Access by using Windows PowerShell cmdlets as described in the following procedure, management tools are not added by default.</span></span>

7. <span data-ttu-id="e3e3d-283">Na **potvrdit vybrané možnosti instalace** stránky, pokud soubory funkcí pro Windows PowerShell Web Accessu není uložený na cílovém serveru, který jste vybrali v kroku 4, klikněte na tlačítko **zadejte alternativní zdrojová_cesta_operačního_systému**a zadejte cestu k souborům funkcí.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-283">On the **Confirm installation selections** page, if the feature files for Windows PowerShell Web Access are not stored on the destination server that you selected in step 4, click **Specify an alternate source path**, and provide the path to the feature files.</span></span> <span data-ttu-id="e3e3d-284">V opačném případě klikněte na tlačítko **nainstalovat**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-284">Otherwise, click **Install**.</span></span>

8. <span data-ttu-id="e3e3d-285">Po kliknutí na **nainstalovat**, **průběh instalace** stránka zobrazuje průběh instalace, výsledky a zprávy upozornění, chyby nebo kroky konfigurace po instalaci, které jsou vyžaduje se pro Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-285">After you click **Install**, the **Installation progress** page displays installation progress, results, and messages such as warnings, failures, or post-installation configuration steps that are required for Windows PowerShell Web Access.</span></span> <span data-ttu-id="e3e3d-286">Po instalaci Windows PowerShell Web Accessu, zobrazí se výzva si přečetli soubor readme, který obsahuje pokyny k instalaci základní, se vyžaduje pro bránu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-286">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="e3e3d-287">Tyto pokyny jsou také uvedené v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-287">These instructions are also included in this topic.</span></span> <span data-ttu-id="e3e3d-288">Cesta k souboru readme je `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-288">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="e3e3d-289">Konfigurace brány</span><span class="sxs-lookup"><span data-stu-id="e3e3d-289">Configure the gateway</span></span>

<span data-ttu-id="e3e3d-290">Pokyny v této části jsou určené pro instalaci Windows PowerShell Web Accessu webovou aplikaci v podadresáři a ne v kořenovém adresáři vašeho webu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-290">Instructions in this section are for installing the Windows PowerShell Web Access web application in a subdirectory and not in the root directory of your website.</span></span> <span data-ttu-id="e3e3d-291">Tento postup je akce v grafickém uživatelském rozhraní ekvivalentní akci, kterou provádí rutina `Install-PswaWebApplication`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-291">This procedure is the GUI-based equivalent of the actions performed by the `Install-PswaWebApplication` cmdlet.</span></span> <span data-ttu-id="e3e3d-292">Tato část také obsahuje pokyny pro konfiguraci brány Windows PowerShell Web Accessu jako kořenového webu pomocí Správce služby IIS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-292">This section also includes instructions for how to use IIS Manager to configure the Windows PowerShell Web Access gateway as a root website.</span></span>

#### <a name="to-use-iis-manager-to-configure-the-gateway-in-an-existing-website"></a><span data-ttu-id="e3e3d-293">Konfigurace brány na stávajícím webu pomocí Správce služby IIS</span><span class="sxs-lookup"><span data-stu-id="e3e3d-293">To use IIS Manager to configure the gateway in an existing website</span></span>

1. <span data-ttu-id="e3e3d-294">Otevřete konzolu Správce služby IIS některým z následujících postupů.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-294">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="e3e3d-295">Na ploše Windows spusťte Správce serveru klikněte na **správce serveru** na hlavním panelu Windows.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-295">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="e3e3d-296">Na **nástroje** nabídky ve Správci serveru klikněte na tlačítko **Správce Internetové informační služby (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-296">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>

   - <span data-ttu-id="e3e3d-297">V Windows **Start** zadejte libovolné části názvu **Správce Internetové informační služby (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-297">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="e3e3d-298">Až se zobrazí, klikněte na zástupce **aplikace** výsledky.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-298">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="e3e3d-299">Vytvořte nový fond aplikací pro Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-299">Create a new application pool for Windows PowerShell Web Access.</span></span> <span data-ttu-id="e3e3d-300">Rozbalte uzel serveru brány ve Správci služby IIS podokně stromu vyberte **fondy aplikací**a klikněte na tlačítko **přidat fond aplikací** v **akce** podokně.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-300">Expand the node of the gateway server in the IIS Manager tree pane, select **Application Pools**, and click **Add Application Pool** in the **Actions** pane.</span></span>

3. <span data-ttu-id="e3e3d-301">Přidat nový fond aplikací s názvem **pswa_pool**, nebo zadejte jiný název.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-301">Add a new application pool with the name **pswa_pool**, or provide another name.</span></span> <span data-ttu-id="e3e3d-302">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-302">Click **OK**.</span></span>

4. <span data-ttu-id="e3e3d-303">V podokně stromu Správce služby IIS rozbalte uzel pro server, na kterém je nainstalovaný Windows PowerShell Web Accessu do **lokality** složka je viditelné.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-303">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="e3e3d-304">Vyberte **lokality** složky.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-304">Select the **Sites** folder.</span></span>

5. <span data-ttu-id="e3e3d-305">Klikněte pravým tlačítkem na web (například **výchozí webový server**) do které chcete přidat web Windows PowerShell Web Accessu a potom klikněte na **přidat aplikaci**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-305">Right-click the website (for example, **Default Web Site**) to which you would like to add the Windows PowerShell Web Access website, and then click **Add Application**.</span></span>

6. <span data-ttu-id="e3e3d-306">V **Alias** pole, zadejte pswa nebo uveďte jiný alias.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-306">In the **Alias** field, type pswa, or provide another alias.</span></span> <span data-ttu-id="e3e3d-307">Z aliasu se stane název virtuálního adresáře.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-307">The alias becomes the virtual directory name.</span></span> <span data-ttu-id="e3e3d-308">Například **pswa** v následující adrese URL označuje alias zadaný v tomto kroku: **https://\<název serveru\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-308">For example, **pswa** in the following URL represents the alias specified in this step: **https://\<server-name\>/pswa**.</span></span>

7. <span data-ttu-id="e3e3d-309">V **fond aplikací** vyberte fond aplikací, který jste vytvořili v kroku 3.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-309">In the **Application pool** field, select the application pool that you created in step 3.</span></span>

8. <span data-ttu-id="e3e3d-310">V **fyzická cesta** vyhledejte umístění aplikace.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-310">In the **Physical path** field, browse for the location of the application.</span></span> <span data-ttu-id="e3e3d-311">Můžete použít výchozí umístění %windir%/Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-311">You can use the default location, %windir%/Web/PowerShellWebAccess/wwwroot.</span></span> <span data-ttu-id="e3e3d-312">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-312">Click **OK**.</span></span>

9. <span data-ttu-id="e3e3d-313">Postupujte podle kroků v postupu nakonfigurujte certifikát protokolu SSL ve službě IIS manager](#to-configure-an-ssl-certificate-in-iis-Manager) v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-313">Follow the steps in the procedure To configure an SSL certificate in IIS manager](#to-configure-an-ssl-certificate-in-iis-Manager) in this topic.</span></span>

10. <span data-ttu-id="e3e3d-314">![](images/SecurityNote.jpeg) Volitelný krok zabezpečení:</span><span class="sxs-lookup"><span data-stu-id="e3e3d-314">![](images/SecurityNote.jpeg) Optional security step:</span></span>

    <span data-ttu-id="e3e3d-315">Web a v podokně stromu, klikněte dvakrát na **nastavení SSL** v podokně obsahu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-315">With the website selected in the tree pane, double-click **SSL Settings** in the content pane.</span></span>
    <span data-ttu-id="e3e3d-316">Vyberte **požadovat protokol SSL**a pak v **akce** podokně klikněte na tlačítko **použít**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-316">Select **Require SSL**, and then in the **Actions** pane, click **Apply**.</span></span>
    <span data-ttu-id="e3e3d-317">Volitelně **nastavení SSL** podokno, můžete vyžadovat, aby uživatelé připojující se k webu Windows PowerShell Web Accessu měli klientské certifikáty.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-317">Optionally, in the **SSL Settings** pane, you can require that users connecting to the Windows PowerShell Web Access website have client certificates.</span></span> <span data-ttu-id="e3e3d-318">Klientské certifikáty pomáhají ověřit identitu uživatele klientského zařízení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-318">Client certificates help to verify the identity of a client device user.</span></span>
    <span data-ttu-id="e3e3d-319">Další informace o tom, jak vyžadování klientských certifikátů můžete zvýšit zabezpečení Windows PowerShell Web Accessu, naleznete v tématu [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md) v této příručce.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-319">For more information about how requiring client certificates can increase the security of Windows PowerShell Web Access, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) in this guide.</span></span>

11. <span data-ttu-id="e3e3d-320">Otevře relaci prohlížeče v klientském zařízení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-320">Open a browser session on a client device.</span></span> <span data-ttu-id="e3e3d-321">Další informace o podporovaných prohlížečích a zařízeních najdete v tématu [prohlížeče a klientského zařízení podporují](#browser-and-client-device-support) v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-321">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this topic.</span></span>

12. <span data-ttu-id="e3e3d-322">Otevřete nový web Windows PowerShell Web Accessu **https://\<*název serveru brány*\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-322">Open the new Windows PowerShell Web Access website, **https://\<*gateway-server-name*\>/pswa**.</span></span>

    <span data-ttu-id="e3e3d-323">Prohlížeč by měl zobrazit Windows PowerShell Web Accessu konzoly přihlašovací stránku.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-323">The browser should display the Windows PowerShell Web Access console sign-in page.</span></span>

    > <span data-ttu-id="e3e3d-324">**![Poznámka:](images/note.jpeg) Poznámka**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-324">**![Note](images/note.jpeg) Note**</span></span>
    >
    > <span data-ttu-id="e3e3d-325">Není možné se přihlásit, dokud uživatelům nebude udělen přístup na web přidáním autorizačních pravidel.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-325">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span>
    > <span data-ttu-id="e3e3d-326">Další informace najdete v tématu [konfigurace omezujícího autorizačního pravidla](#configure-a-restrictive-authorization-rule), v tomto tématu a [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-326">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

13. <span data-ttu-id="e3e3d-327">V relaci Windows Powershellu otevřené se zvýšenými uživatelskými právy (Spustit jako správce) spusťte následující skript, ve kterém *název_fondu_aplikací* představuje název fondu aplikací, kterou jste vytvořili v kroku 3 aby měl fond aplikací přístupová práva k souboru autorizace.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-327">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 3, to give the application pool access rights to the authorization file.</span></span>

    ```
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="e3e3d-328">Pokud chcete zobrazit stávající přístupová práva k souboru autorizace, spusťte následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="e3e3d-328">To view existing access rights on the authorization file, run the following command:</span></span>

    ```
    c:\windows\system32\icacls.exe $authorizationFile
    ```

#### <a name="to-use-iis-manager-to-configure-the-gateway-as-a-root-website-with-a-test-certificate"></a><span data-ttu-id="e3e3d-329">Konfigurace brány jako kořenového webu se zkušebním certifikátem pomocí Správce služby IIS</span><span class="sxs-lookup"><span data-stu-id="e3e3d-329">To use IIS Manager to configure the gateway as a root website with a test certificate</span></span>

1. <span data-ttu-id="e3e3d-330">Otevřete konzolu Správce služby IIS některým z následujících postupů.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-330">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="e3e3d-331">Na ploše Windows spusťte Správce serveru klikněte na **správce serveru** na hlavním panelu Windows.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-331">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="e3e3d-332">Na **nástroje** nabídky ve Správci serveru klikněte na tlačítko **Správce Internetové informační služby (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-332">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>

   - <span data-ttu-id="e3e3d-333">V Windows **Start** zadejte libovolné části názvu **Správce Internetové informační služby (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-333">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="e3e3d-334">Až se zobrazí, klikněte na zástupce **aplikace** výsledky.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-334">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="e3e3d-335">V podokně stromu Správce služby IIS rozbalte uzel pro server, na kterém je nainstalovaný Windows PowerShell Web Accessu do **lokality** složka je viditelné.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-335">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="e3e3d-336">Vyberte **lokality** složky.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-336">Select the **Sites** folder.</span></span>

3. <span data-ttu-id="e3e3d-337">V **akce** podokně klikněte na tlačítko **přidat web**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-337">In the **Actions** pane, click **Add Website**.</span></span>

4. <span data-ttu-id="e3e3d-338">Zadejte název webu, například **Windows PowerShell Web Accessu**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-338">Type a name for the website, such as **Windows PowerShell Web Access**.</span></span>

5. <span data-ttu-id="e3e3d-339">Pro nový web se automaticky vytvoří fond aplikací.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-339">An application pool is automatically created for the new website.</span></span> <span data-ttu-id="e3e3d-340">Pokud chcete použít jiný fond aplikací, klikněte na tlačítko **vyberte** vybrat fond aplikací k přidružení nového webu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-340">To use a different application pool, click **Select** to select an application pool to associate with the new website.</span></span> <span data-ttu-id="e3e3d-341">Vyberte alternativní fond aplikací v **vybrat fond aplikací** dialogové okno a potom klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-341">Select the alternate application pool in the **Select Application Pool** dialog box, and then click **OK**.</span></span>

6. <span data-ttu-id="e3e3d-342">V **fyzická cesta** text, přejděte na %*windir*% / Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-342">In the **Physical path** text box, navigate to %*windir*%/Web/PowerShellWebAccess/wwwroot.</span></span>

7. <span data-ttu-id="e3e3d-343">V **typ** pole **vazby** vyberte **https**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-343">In the **Type** field of the **Binding** area, select **https**.</span></span>

8. <span data-ttu-id="e3e3d-344">Přiřaďte číslo portu webu, který ještě nepoužívá jiný web nebo aplikace.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-344">Assign a port number to the website that is not already in use by another site or application.</span></span> <span data-ttu-id="e3e3d-345">Pokud chcete vyhledat otevřené porty, můžete spustit **netstat** příkazu v okně příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-345">To locate open ports, you can run the **netstat** command in a Command Prompt window.</span></span> <span data-ttu-id="e3e3d-346">Výchozí číslo portu je 443.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-346">The default port number is 443.</span></span>

   <span data-ttu-id="e3e3d-347">Pokud už číslo 443 používá jiný web nebo pokud máte jiné bezpečnostní důvody pro změnu čísla portu, změňte výchozí port.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-347">Change the default port if another website is already using 443, or if you have other security reasons for changing the port number.</span></span> <span data-ttu-id="e3e3d-348">Pokud vybraný port používá jiný web, na kterém běží na serveru brány, když kliknete, zobrazí se upozornění **OK** v **přidat web** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-348">If another website that is running on your gateway server is using your selected port, a warning is displayed when you click **OK** in the **Add Website** dialog box.</span></span> <span data-ttu-id="e3e3d-349">Spuštění Windows PowerShell Web Accessu musí použití nepoužitého portu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-349">You must use an unused port to run Windows PowerShell Web Access.</span></span>

9. <span data-ttu-id="e3e3d-350">Volitelně můžete v případě potřeby pro vaši organizaci, zadejte název hostitele, který dává smysl pro vaši organizaci a uživatele, jako například **www.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-350">Optionally, if needed for your organization, specify a host name that makes sense to your organization and users, such as **www.contoso.com**.</span></span> <span data-ttu-id="e3e3d-351">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-351">Click **OK**.</span></span>

10. <span data-ttu-id="e3e3d-352">Aby bylo vaše produkční prostředí ještě bezpečnější, rozhodně doporučujeme použít platný certifikát podepsaný certifikační autoritou.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-352">For a more secure production environment, we strongly recommend providing a valid certificate that has been signed by a CA.</span></span> <span data-ttu-id="e3e3d-353">Je nutné zadat certifikát SSL, protože uživatelé můžou připojit jenom k Windows PowerShell Web Accessu přes web HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-353">You must provide an SSL certificate, because users can only connect to Windows PowerShell Web Access through an HTTPS website.</span></span> <span data-ttu-id="e3e3d-354">Zobrazit [nakonfigurovat certifikát SSL ve Správci služby IIS](#to-configure-an-ssl-certificate-in-iis-Manager) v tomto tématu pro další informace o tom, jak získat certifikát.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-354">See [To configure an SSL certificate in IIS manager](#to-configure-an-ssl-certificate-in-iis-Manager) in this topic for more information about how to obtain a certificate.</span></span>

11. <span data-ttu-id="e3e3d-355">Klikněte na tlačítko **OK** zavřete **přidat web** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-355">Click **OK** to close the **Add Website** dialog box.</span></span>

12. <span data-ttu-id="e3e3d-356">Další informace o tom, jak ve webové konzole najdete v tématu *pomocí webové konzoly Powershellu Windows*.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-356">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 4, to give the application pool access rights to the authorization file.</span></span>

    ```    
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="e3e3d-357">Pokud chcete zobrazit stávající přístupová práva k souboru autorizace, spusťte následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="e3e3d-357">To view existing access rights on the authorization file, run the following command:</span></span>

    ```
    c:\windows\system32\icacls.exe $authorizationFile
    ```

13. <span data-ttu-id="e3e3d-358">Internetová informační služba (IIS) 7.0 dokumentace</span><span class="sxs-lookup"><span data-stu-id="e3e3d-358">With the new website selected in the IIS Manager tree pane, click **Start** in the **Actions** pane to start the website.</span></span>

14. <span data-ttu-id="e3e3d-359">Otevře relaci prohlížeče v klientském zařízení.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-359">Open a browser session on a client device.</span></span> <span data-ttu-id="e3e3d-360">Další informace o podporovaných prohlížečích a zařízeních najdete v části [Podpora prohlížeče a klientského zařízení](#browser-and-client-device-support) v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-360">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this document.</span></span>

15. <span data-ttu-id="e3e3d-361">Konfigurace zabezpečení webového serveru (IIS 7)</span><span class="sxs-lookup"><span data-stu-id="e3e3d-361">Open the new Windows PowerShell Web Access website.</span></span>

    <span data-ttu-id="e3e3d-362">Vzhledem k tomu, že kořenový web odkazuje na složku Windows PowerShell Web Access, v prohlížeči by se při otevření stránky **https://\<*název_serveru_brány*\>** měla zobrazit přihlašovací stránka.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-362">Because the root website points to the Windows PowerShell Web Access folder, the browser should display the Windows PowerShell Web Access sign-in page when you open **https://\<*gateway_server_name*\>**.</span></span> <span data-ttu-id="e3e3d-363">By neměl muset přidat **/pswa** na adresu URL.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-363">You should not need to add **/pswa** to the URL.</span></span>

    > <span data-ttu-id="e3e3d-364">**![Poznámka:](images/note.jpeg) Poznámka**</span><span class="sxs-lookup"><span data-stu-id="e3e3d-364">**![Note](images/note.jpeg) Note**</span></span>
    >
    > <span data-ttu-id="e3e3d-365">Není možné se přihlásit, dokud uživatelům nebude udělen přístup na web přidáním autorizačních pravidel.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-365">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span>
    > <span data-ttu-id="e3e3d-366">Další informace najdete v tématu [konfigurace omezujícího autorizačního pravidla](#configure-a-restrictive-authorization-rule), v tomto tématu a [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-366">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configuring-a-restrictive-authorization-rule"></a><span data-ttu-id="e3e3d-367">Konfigurace omezujícího autorizačního pravidla</span><span class="sxs-lookup"><span data-stu-id="e3e3d-367">Configuring a restrictive authorization rule</span></span>

<span data-ttu-id="e3e3d-368">Po nainstalování Windows PowerShell Web Accessu a je brána nakonfigurovaná, uživatelé mohou otevřít přihlašovací stránku v prohlížeči, ale nemůže přihlásit do správce Windows PowerShell Web Accessu explicitně neudělí přístup.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-368">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="e3e3d-369">Řízení přístupu na Windows PowerShell Web Accessu se spravuje pomocí sady rutin Windows Powershellu jsou popsané v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-369">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="e3e3d-370">Neexistuje žádné srovnatelné grafické uživatelské rozhraní pro přidávání nebo správu autorizačních pravidel.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-370">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="e3e3d-371">Podrobné informace o rutinách Windows PowerShell Web Accessu, naleznete v tématu referenční témata rutiny [rutiny Windows Powershellu webového přístupu](cmdlets/web-access-cmdlets.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-371">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](cmdlets/web-access-cmdlets.md).</span></span>

<span data-ttu-id="e3e3d-372">Podrobnější informace o Windows PowerShell Web Accessu autorizačních pravidel a zabezpečení, najdete v části [autorizačních pravidel a zabezpečení funkce systému Windows PowerShell Web Accessu](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-372">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="adding-a-restrictive-authorization-rule"></a><span data-ttu-id="e3e3d-373">Přidání omezujícího autorizačního pravidla</span><span class="sxs-lookup"><span data-stu-id="e3e3d-373">Adding a restrictive authorization rule</span></span>

1. <span data-ttu-id="e3e3d-374">Proveďte jednu z následujících akcí otevřete relaci Windows Powershellu se zvýšenými uživatelskými právy.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-374">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="e3e3d-375">Na ploše Windows klikněte pravým tlačítkem na **prostředí Windows PowerShell** na hlavním panelu a pak klikněte na tlačítko **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-375">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>

   - <span data-ttu-id="e3e3d-376">V Windows **Start** obrazovce, klikněte pravým tlačítkem na **prostředí Windows PowerShell**a potom klikněte na tlačítko **spustit jako správce**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-376">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. ![Poznámka k zabezpečení](images/SecurityNote.jpeg) <span data-ttu-id="e3e3d-378">Volitelný krok pro omezení přístupu uživatelů s použitím konfigurací relace:</span><span class="sxs-lookup"><span data-stu-id="e3e3d-378">Optional step for restricting user access by using session configurations:</span></span>

   <span data-ttu-id="e3e3d-379">Ověřte, že konfigurace relace, které chcete v pravidlech použít, už existují.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-379">Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="e3e3d-380">V případě, že jste ještě nevytvořili, postupujte podle pokynů pro vytvoření konfigurací relace v [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-380">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="e3e3d-381">Zadejte následující příkaz a stiskněte klávesu **Enter**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-381">Type the following, and then press **Enter**.</span></span>

   <span data-ttu-id="e3e3d-382">Add-PswaAuthorizationRule - UserName < doména\uživatel | počítač\uživatel > - ComputerName < název_počítače > - ConfigurationName < session_configuration_name ></span><span class="sxs-lookup"><span data-stu-id="e3e3d-382">Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name></span></span>

   <span data-ttu-id="e3e3d-383">Toto autorizační pravidlo umožňuje konkrétní přístup uživatele k jednomu počítači v síti, ke kterým mají obvykle přístup, včetně přístupu ke konfiguraci konkrétní relace, které budou platit pro uživatele "™ potřeby typický skriptování a rutiny s.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-383">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'™s typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="e3e3d-384">V následujícím příkladu se uživateli se jménem `JSmith` v doméně `Contoso` udělí přístup ke správě počítače `Contoso_214` a použití konfigurace relace s názvem `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-384">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   <span data-ttu-id="e3e3d-385">Add-PswaAuthorizationRule - UserName "Contoso\jmacek" - ComputerName Contoso_214 - při ConfigurationName NewAdminsOnly</span><span class="sxs-lookup"><span data-stu-id="e3e3d-385">Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly</span></span>

4. <span data-ttu-id="e3e3d-386">Ověřte, zda byl vytvořen pravidla buď spuštěním `Get-PswaAuthorizationRule` rutiny nebo `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-386">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span></span>

   <span data-ttu-id="e3e3d-387">Například `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-387">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

   <span data-ttu-id="e3e3d-388">Po nakonfigurování autorizačního pravidla se můžou Autorizovaní uživatelé přihlásit k webové konzole a začít používat Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-388">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="configure-a-genuine-certificate"></a><span data-ttu-id="e3e3d-389">Konfigurace pravého certifikátu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-389">Configure a genuine certificate</span></span>

<span data-ttu-id="e3e3d-390">Aby bylo produkční prostředí zabezpečené, používejte vždy platný certifikát SSL podepsaný certifikační autoritou (CA).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-390">For a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="e3e3d-391">Postup v této části uvádí, jak získat a použít platný certifikát SSL od certifikační autority.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-391">The procedure in this section describes how to obtain and apply a valid SSL certificate from a CA.</span></span>

### <a name="to-configure-an-ssl-certificate-in-iis-manager"></a><span data-ttu-id="e3e3d-392">Konfigurace certifikátu SSL ve Správci služby IIS</span><span class="sxs-lookup"><span data-stu-id="e3e3d-392">To configure an SSL certificate in IIS Manager</span></span>

1. <span data-ttu-id="e3e3d-393">V podokně stromu Správce služby IIS vyberte server, na kterém je nainstalovaný Windows PowerShell Web Accessu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-393">In the IIS Manager tree pane, select the server on which Windows PowerShell Web Access is installed.</span></span>

2. <span data-ttu-id="e3e3d-394">V podokně obsahu poklikejte na **certifikáty serveru**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-394">In the content pane, double click **Server Certificates**.</span></span>

3. <span data-ttu-id="e3e3d-395">V **akce** podokno, proveďte jednu z následujících akcí.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-395">In the **Actions** pane, do one of the following.</span></span> <span data-ttu-id="e3e3d-396">Další informace o konfiguraci certifikátů serveru ve službě IIS najdete v tématu [konfigurace certifikátů serveru ve službě IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-396">For more information about configuring server certificates in IIS, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>

   - <span data-ttu-id="e3e3d-397">Klikněte na tlačítko **importovat** k naimportovat stávající platný certifikát z umístění v síti.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-397">Click **Import** to import an existing, valid certificate from a location on your network.</span></span>

   - <span data-ttu-id="e3e3d-398">Klikněte na tlačítko **vytvořit žádost o certifikát** požádat o certifikát od certifikační Autority, jako [VeriSign](http://www.verisign.com/), [Thawte](https://www.thawte.com/), nebo [GeoTrust](https://www.geotrust.com/).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-398">Click **Create Certificate Request** to request a certificate from a CA such as [VeriSign](http://www.verisign.com/), [Thawte](https://www.thawte.com/), or [GeoTrust](https://www.geotrust.com/).</span></span> <span data-ttu-id="e3e3d-399">Běžný název certifikátu musí odpovídat hlavičce hostitele v žádosti.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-399">The certificate's common name must match the host header in the request.</span></span>

   <span data-ttu-id="e3e3d-400">Například, pokud prohlížeč klienta požaduje http://www.contoso.com/, pak musí také být běžný název http://www.contoso.com/.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-400">For example, if the client browser requests http://www.contoso.com/, then the common name must also be http://www.contoso.com/.</span></span> <span data-ttu-id="e3e3d-401">Toto je nejbezpečnější a doporučená možnost poskytnutí brány Windows PowerShell Web Accessu pomocí certifikátu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-401">This is the most secure and recommended option for providing the Windows PowerShell Web Access gateway with a certificate.</span></span>

   - <span data-ttu-id="e3e3d-402">Klikněte na tlačítko **vytvořit certifikát podepsaný svým držitelem** vytvoření certifikátu můžete použít okamžitě a mají novější podepsaný Certifikační autoritou v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-402">Click **Create a Self-Signed Certificate** to create a certificate that you can use immediately, and have signed later by a CA if desired.</span></span> <span data-ttu-id="e3e3d-403">Zadejte popisný název certifikátu podepsaného držitelem, například **Windows PowerShell Web Accessu**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-403">Specify a friendly name for the self-signed certificate, such as **Windows PowerShell Web Access**.</span></span> <span data-ttu-id="e3e3d-404">Tato možnost se nepovažuje za bezpečnou a doporučuje se pouze pro privátní testovací prostředí.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-404">This option is not considered secure, and is recommended only for a private test environment.</span></span>

4. <span data-ttu-id="e3e3d-405">Po vytvoření nebo získání certifikátu, vyberte web, ke kterému se certifikát používá (například **výchozí webový server**) podokně stromu ve Správci služby IIS a pak klikněte na tlačítko **vazby** v **Akce** podokně.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-405">After creating or obtaining a certificate, select the website to which the certificate is applied (for example, **Default Web Site**) in the IIS Manager tree pane, and then click **Bindings** in the **Actions** pane.</span></span>

5. <span data-ttu-id="e3e3d-406">V **přidat vazbu webu** dialogového okna přidejte **https** vazby pro lokalitu, pokud již není zobrazen.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-406">In the **Add Site Binding** dialog box, add an **https** binding for the site, if one is not already displayed.</span></span> <span data-ttu-id="e3e3d-407">Pokud nepoužíváte certifikát podepsaný držitelem, zadejte název hostitele z kroku 3 tohoto postupu.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-407">If you are not using a self-signed certificate, specify the host name from step 3 of this procedure.</span></span> <span data-ttu-id="e3e3d-408">Pokud používáte certifikát podepsaný držitelem, není tento krok povinný.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-408">If you are using a self-signed certificate, this step is not required.</span></span>

6. <span data-ttu-id="e3e3d-409">Vyberte certifikát, který jste získali nebo vytvořili v kroku 3 tohoto postupu a potom klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-409">Select the certificate that you obtained or created in step 3 of this procedure, and then click **OK**.</span></span>

## <a name="using-the-web-based-windows-powershell-console"></a><span data-ttu-id="e3e3d-410">Používání webové konzoly Windows PowerShellu</span><span class="sxs-lookup"><span data-stu-id="e3e3d-410">Using the web-based Windows PowerShell console</span></span>

<span data-ttu-id="e3e3d-411">Po dokončení konfigurace brány, jak je popsáno v tomto tématu je nainstalovaný Windows PowerShell Web Access a webové konzoly Windows Powershellu je připravený k použití.</span><span class="sxs-lookup"><span data-stu-id="e3e3d-411">After Windows PowerShell Web Access is installed and the gateway configuration is finished as described in this topic, the Windows PowerShell web-based console is ready to use.</span></span> <span data-ttu-id="e3e3d-412">Další informace o tom, jak ve webové konzole najdete v tématu [pomocí webové konzoly Powershellu Windows](use-the-web-based-windows-powershell-console.md).</span><span class="sxs-lookup"><span data-stu-id="e3e3d-412">For more information about getting started in the web-based console, see [Use the Web-based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="e3e3d-413">Viz také</span><span class="sxs-lookup"><span data-stu-id="e3e3d-413">See Also</span></span>

<span data-ttu-id="e3e3d-414">[Internetová informační služba (IIS) 7.0 dokumentace](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="e3e3d-414">[Internet Information Services (IIS) 7.0 Documentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span></span>

<span data-ttu-id="e3e3d-415">[Nápověda k aplikaci IIS 7.0 Manager](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="e3e3d-415">[IIS Manager 7.0 Help](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span></span>

<span data-ttu-id="e3e3d-416">[Konfigurace zabezpečení webového serveru (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="e3e3d-416">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span></span>

<span data-ttu-id="e3e3d-417">[Materiály pro nasazení protokolu IPsec](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="e3e3d-417">[IPsec Deployment Resources](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span></span>